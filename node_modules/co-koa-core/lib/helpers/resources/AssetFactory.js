"use strict";const fs=require("fs"),stampit=require("stampit"),AssetFactory=stampit({init({conf:t,echo:s}){let e;try{e=fs.statSync(`${t.root}/config/AssetConfig.js`)}catch(t){s.error("missingAssetConfig")}const r=Object.assign({},require(e?`${t.root}/config/AssetConfig.js`:`${__dirname}/AssetConfig.default.js`));Object.assign(this,{build:e=>Object.assign({},{loadURL(i,o=""){try{const c=e.replace(/^:/,"");return`${r[t.environment][c].replace(/\/$/,"")}/${i}.${o||c}`}catch(t){s.throw("invalidAsset",e)}},stream(s,e=""){return fs.createReadStream(`${t.root}/public${this.loadURL(s,e)}`)}})})}});module.exports=((t,s)=>AssetFactory({conf:t,echo:s}));